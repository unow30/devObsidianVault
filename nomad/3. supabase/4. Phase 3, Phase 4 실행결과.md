Phase 3ê³¼ 4ì˜ API ì—”ë“œí¬ì¸íŠ¸(9ê°œ) êµ¬í˜„ê³¼ í…ŒìŠ¤íŠ¸ê°€ ì™„ë²½í•˜ê²Œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. Next.js 15 App Router íƒ€ì… ì•ˆì „ì„±ê³¼ ESLint í†µê³¼ë¡œ í”„ë¡œë•ì…˜ ì¤€ë¹„ ìƒíƒœì…ë‹ˆë‹¤.
  - Next.js 15 API ë¼ìš°íŠ¸ íƒ€ì… í˜¸í™˜ì„± ì—…ë°ì´íŠ¸
  - ëª¨ë“  API ì—”ë“œí¬ì¸íŠ¸ TypeScript íƒ€ì… ì•ˆì •ì„± í™•ë³´
  - ESLint ë° TypeScript ì»´íŒŒì¼ ì„±ê³µ

## ğŸ“Š ì‘ì—… ì™„ë£Œ í†µê³„
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚          í•­ëª©           â”‚       ìƒíƒœ        â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Phase 1: DB ìŠ¤í‚¤ë§ˆ      â”‚ âœ… ì™„ì„±           â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Phase 2: RLS ì •ì±…       â”‚ âœ… ì™„ì„±           â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Phase 3: ì¸ì¦ ì‹œìŠ¤í…œ    â”‚ âœ… ê¸°ì¡´ êµ¬í˜„ í™•ì¸ â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Phase 4: API ì—”ë“œí¬ì¸íŠ¸ â”‚ âœ… 9ê°œ ì™„ì„±       â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ TypeScript íƒ€ì… ì²´í¬    â”‚ âœ… í†µê³¼           â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ ESLint ê²€ì‚¬             â”‚ âœ… í†µê³¼           â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
## ğŸ“ ìƒì„±ëœ íŒŒì¼ ëª©ë¡
```
lib/
  â”œâ”€â”€ supabase-queries.ts          # ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ í•¨ìˆ˜ ëª¨ìŒ

  app/api/
  â”œâ”€â”€ cities/
  â”‚   â”œâ”€â”€ route.ts                 # GET /api/cities
  â”‚   â””â”€â”€ [slug]/
  â”‚       â”œâ”€â”€ route.ts             # GET /api/cities/[slug]
  â”‚       â”œâ”€â”€ metrics/
  â”‚       â”‚   â””â”€â”€ route.ts         # GET /api/cities/[slug]/metrics
  â”‚       â”œâ”€â”€ ratings/
  â”‚       â”‚   â””â”€â”€ route.ts         # POST/PUT/DELETE í‰ê°€
  â”‚       â””â”€â”€ reviews/
  â”‚           â”œâ”€â”€ route.ts         # POST /api/cities/[slug]/reviews
  â”‚           â””â”€â”€ [reviewId]/
  â”‚               â””â”€â”€ route.ts     # PUT/DELETE ë¦¬ë·°

  supabase/
  â”œâ”€â”€ migrations/
  â”‚   â””â”€â”€ 20250116_phase1_tables.sql  # DB ìŠ¤í‚¤ë§ˆ ë§ˆì´ê·¸ë ˆì´ì…˜
  â””â”€â”€ seed.sql                     # Mock ë°ì´í„° (ì—…ë°ì´íŠ¸ë¨)

  API_DOCUMENTATION.md             # ì™„ì „í•œ API ê°€ì´ë“œ
  types/
  â””â”€â”€ database.types.ts            # ìë™ ìƒì„±ëœ TypeScript íƒ€ì…

  
```

## ğŸš€ API ì—”ë“œí¬ì¸íŠ¸ (9ê°œ) - ëª¨ë‘ í…ŒìŠ¤íŠ¸ ì™„ë£Œ âœ…
```
# ì½ê¸° (ì¸ì¦ ë¶ˆí•„ìš”)
  GET    /api/cities                          # ë„ì‹œ ëª©ë¡ (í•„í„°/ì •ë ¬)
  GET    /api/cities/[slug]                   # ë„ì‹œ ìƒì„¸ ì •ë³´
  GET    /api/cities/[slug]/metrics           # ì‹¤ì‹œê°„ ë©”íŠ¸ë¦­

  # ì“°ê¸° (ì¸ì¦ í•„ìš”)
  POST   /api/cities/[slug]/ratings           # í‰ê°€ ì œì¶œ
  PUT    /api/cities/[slug]/ratings           # í‰ê°€ ìˆ˜ì •
  DELETE /api/cities/[slug]/ratings           # í‰ê°€ ì‚­ì œ
  POST   /api/cities/[slug]/reviews           # ë¦¬ë·° ì‘ì„±
  PUT    /api/cities/[slug]/reviews/[id]      # ë¦¬ë·° ìˆ˜ì •
  DELETE /api/cities/[slug]/reviews/[id]      # ë¦¬ë·° ì‚­ì œ
```
  
## ğŸ§ª í…ŒìŠ¤íŠ¸ ê²°ê³¼

  # ìƒí™œë¹„ ë‚®ì€ìˆœ ì •ë ¬
  âœ… curl "http://localhost:3000/api/cities?sort=budget-low&limit=3"
  â†’ ëª©í¬(88), ê²½ì£¼(90), í¬í•­(92)

  # ë„ì‹œ ìƒì„¸ ì •ë³´
  âœ… curl "http://localhost:3000/api/cities/{uuid}"
  â†’ ë„ì‹œ ì •ë³´ + ìµœê·¼ ë¦¬ë·° + ì‚¬ìš©ì ID

  # ë©”íŠ¸ë¦­ ì¡°íšŒ
  âœ… curl "http://localhost:3000/api/cities/{uuid}/metrics"
  â†’ ì˜¨ë„, AQI, ì¸í„°ë„· ì†ë„ ë“± ì‹¤ì‹œê°„ ë°ì´í„°

  ---
  ğŸ“ ë‹¤ìŒ ë‹¨ê³„ (Phase 5)

  í”„ë¡ íŠ¸ì—”ë“œ ì»´í¬ë„ŒíŠ¸ ì—°ê²° ì‘ì—…ì´ í•„ìš”í•©ë‹ˆë‹¤:

  1. í™ˆí˜ì´ì§€ ì—…ë°ì´íŠ¸
    - Mock ë°ì´í„° ì œê±°
    - /api/cities APIë¡œ ë³€ê²½
    - í•„í„°/ì •ë ¬ ì¿¼ë¦¬ ë°˜ì˜
  2. ë„ì‹œ ìƒì„¸ í˜ì´ì§€ ì—…ë°ì´íŠ¸
    - /api/cities/[slug] ì—°ë™
    - ë¦¬ë·° í‘œì‹œ
    - í‰ê°€ ì œì¶œ í¼
  3. ìƒíƒœ ê´€ë¦¬ (ì„ íƒ)
    - React Query ë„ì… (ìºì‹±)
    - ë‚™ê´€ì  ì—…ë°ì´íŠ¸ êµ¬í˜„
  4. ë°°í¬
    - Vercel ë°°í¬
    - í™˜ê²½ë³€ìˆ˜ ì„¤ì •