- 완전환 스트리밍 데이터 파이프라인 개발
- 상용환경에 적용하기위한 고려사항
### ​9.1 수집단계
- 웹소켓과 네티 (netty.io) 로 수집
- ​이유
	1. 웹소켓은 파이프라인 구축에 효율적인 프로토콜이다.
	2. 데이터 접근 단계 구현도 수집단계와 동일하게 웹소켓과 네티로 구현 할 예정.
### ​9.1.1 수집 단계 애플리케이션 데이터흐름
- Page 202 그림 9. 2
- 데이터 유실 방지를 위해 2장에서 언급한 HML 적용
- ​Rocks DB 라이브러리로 데이터 로깅 (카프카에서 데이터 수신 성공, 실패에 따라 메시지 저장 공간이 다름 )
	- 고성능의 로컬 저장소가 필요하다. 의부 저장소에 데이터 저장시 네트워크 이슈 대응

코딩 작업내용 정리. nest.js로 구현 가능한지 확인

### 9.2 메시지 큐 단계
- 아파치 카프카 사용
- 카프카 공식홈페이지나 네하 나크혜데의 Kafka : The Definitive Guide( O'reilly , 2016) 참고


### 9.2.1 카프카 설정 및 설치
[[카프카의 4가지 기본 개념 1]]
1. 프로듀서
2. 토픽
3. 브로커
4. 컨슈머

### 9.2.2 수집단계 애플리케이션과 카프카연동

## 9.3 분석 단계
아파치 스톰을 활용한다.
스톰을 설치하고 모든 RSVP 중 상위 N개의 항목을 추출하는 토폴로지를 구현한다
### 9.3.1 카프카와 연동하는 스톰 설치
로컬환경에서 설치
상용환경 배포는 션 T 알렌의 Storm Applied(Manning, 2015)를 참조

### 9.3.2 상위 1.개의 데이터를 추출하는 스툼 토폴로지 작성
[[스톰에서 사용하는 기본용어]]

### 9.3.3 분석단계통합
여기까지 1장~ 5장까지의 내용이 구현되었다.

## 9.4 인메모리 데이터 저장소
책에서는 아파치 카프카를 사용한다. 사용 이유는 다음과 같다.
1. 메시지 큐단계에서 카프카를 사용했기 때문에 추가로 활용함
2. 디스크에 데이터를 저장하지만 우리가만든 애플리케이 애플리케이션 의 데이터를 처리 하기 충분한 성능이라고 판단
3. 컨슈머 접근 패턴은 이론적으로 스트림 데이터 처리와 동일함. 이방식을 통해서 데이터 접근 단계의 데이터를 스트림으로 접근하는 것을 고려할 수 있음. 이를 통해 파이프라인 복잡성을 줄일 수 있음
이 단계의 코드는 [코드 9.19] 에서 코드1줄로 구현되었다.

## 9.5 데이터 접근 단계
취합된 데이터를 UI를 사용하여 보여준다.
네티 프레임워크를 이용해 API를 구현한다.